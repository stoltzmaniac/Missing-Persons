shiny::runApp()
runApp()
library(ggmap)
missing.persons = read.csv("https://query.data.world/s/57mcfy9olvjsi3imujwdh9xoq",header=T)
library(ggmap)
library(ggmap)
head(missing persons)
head(missing.persons)
missing.persons$location = paste(missing.persons$missingfromcity,", ",
missing.persons$missingfromstate,", ",
missing.persons$missingfromcountry,
sep='')
head(missing.persons)
places = missing.persons$location
places = unique(missing.persons$location)
places
places2 = geocode(places[1:5])
head(places2)
help(geocode)
places2 = geocode(places[1:5],source='dsk')
places2
length(places)
places.latlon = geocode(places)
places.latlon = geocode(places)
length(places)
nrow(places.latlon)
places.df = cbind(places,places.latlon)
write.csv(places.df,'places_latlon.csv')
write.csv(places.df,'places_latlon.csv',row.names=FALSE)
places = read.csv('places_latlon.csv')
head(places)
df = merge(missing.persons,places,by.x='location',by.y='places')
head(df)
nrow(df)
nrow(missing.persons)
write.csv(df,'missing_persons_data_joined.csv',row.names=FALSE)
a = read.csv('missing_persons_data_joined.csv')
head(a)
df = read.csv('missing_persons_data_joined.csv')
head(df)
tail(df)
df$birthday = as.Date(df$birthdate)
head(df)
df = read.csv('missing_persons_data_joined.csv')
df$birthdate = as.Date(df$birthdate)
head(df)
df$age = df$birthdate-today()
library(lubridate)
df$age = df$birthdate-today()
head(df)
df$age = today() - df$birthdate
head(df)
df$age = round((today() - df$birthdate)/365),0)
df$age = round((today() - df$birthdate/365),1)
df$age = round(as.numeric((today() - df$birthdate)/365),1)
head(df)
df = read.csv('missing_persons_data_joined.csv')
df$birthdate = as.Date(df$birthdate)
df$yearsOld = round(as.numeric((today() - df$birthdate)/365),1)
head(df)
hist(df$yearsOld)
df$yearsMissing = round(as.numeric((today() - df$missingfromdate)/365),1)
df$yearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
head(df)
hist(df)
hist(df$yearsMissing)
df$birthdate =
df$yearsOld = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df = read.csv('missing_persons_data_joined.csv')
df$yearsOld = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df$ageGoneMissing = round(as.numeric((as.Date(df$missingfromdate) - as.Date(df$birthdate))/365),1)
df$yearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
df$ageGoneMissing
hist(df$ageGoneMissing)
summary(df$ageGoneMissing)
df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$birthdate))/365),1)
hist(df$ageGoneMissingReported)
summary(df$ageGoneMissingReported)
df$missingToReportedYears = df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$missingfromdate))/365),1)
hist(df$missingToReportedYears)
summary(df$missingToReportedYears)
head(df)
summary(df$missingToReportedYears)
df = read.csv('missing_persons_data_joined.csv')
df$yearsOld = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df$ageGoneMissingFrom = round(as.numeric((as.Date(df$missingfromdate) - as.Date(df$birthdate))/365),1)
df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$birthdate))/365),1)
df$missingToReportedYears = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$missingfromdate))/365),1)
df$yearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
summary(df)
df = read.csv('missing_persons_data_joined.csv')
df$age = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df$ageGoneMissingFrom = round(as.numeric((as.Date(df$missingfromdate) - as.Date(df$birthdate))/365),1)
df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$birthdate))/365),1)
df$missingToReportedYears = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$missingfromdate))/365),1)
df$currentYearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
df = read.csv('missing_persons_data_joined.csv')
df$age = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df$ageGoneMissingFrom = round(as.numeric((as.Date(df$missingfromdate) - as.Date(df$birthdate))/365),1)
df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$birthdate))/365),1)
df$missingToReportedYears = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$missingfromdate))/365),1)
df$currentYearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
head(df)
hist(currentYearsMissing)
df = read.csv('missing_persons_data_joined.csv')
df$age = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df$ageGoneMissingFrom = round(as.numeric((as.Date(df$missingfromdate) - as.Date(df$birthdate))/365),1)
df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$birthdate))/365),1)
df$missingToReportedYears = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$missingfromdate))/365),1)
df$currentYearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
library(googleVis)
head(df)
df$missingreporteddate = as.Date(df$missingreporteddate)
Motion=gvisMotionChart(df,
idvar="childid",
timevar="missingreporteddate")
plot(Motion)
df = read.csv('missing_persons_data_joined.csv')
df$age = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df$ageGoneMissingFrom = round(as.numeric((as.Date(df$missingfromdate) - as.Date(df$birthdate))/365),1)
df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$birthdate))/365),1)
df$missingToReportedYears = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$missingfromdate))/365),1)
df$currentYearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
df$missingReportedHour = hour(df$missingreporteddate)
head(df)
df$missingFromHour = hour(df$missingfromdate)
head(df)
dayofweek
day
df$missingReportedDayOfWeek = wday(df$missingReportedDayOfWeek,label=TRUE)
head(df)
df$missingReportedDayOfWeek = wday(as.Date(df$missingReportedDayOfWeek),label=TRUE)
df$missingReportedDayOfWeek = wday(df$missingreporteddate,label=TRUE)
head(df)
df$missingFromDayOfWeek = wday(df$missingfromdate,label=TRUE)
head(df)
hist(df$missingReportedDayOfWeek)
df$missingReportedDayOfWeek = wday(df$missingreporteddate)
df$missingFromDayOfWeek = wday(df$missingfromdate)
hist(df$missingReportedDayOfWeek)
hist(df$missingFromDayOfWeek)
df = read.csv('missing_persons_data_joined.csv')
df$age = round(as.numeric((today() - as.Date(df$birthdate))/365),1)
df$ageGoneMissingFrom = round(as.numeric((as.Date(df$missingfromdate) - as.Date(df$birthdate))/365),1)
df$ageGoneMissingReported = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$birthdate))/365),1)
df$missingToReportedYears = round(as.numeric((as.Date(df$missingreporteddate) - as.Date(df$missingfromdate))/365),1)
df$currentYearsMissing = round(as.numeric((today() - as.Date(df$missingfromdate))/365),1)
df$missingReportedHour = hour(df$missingreporteddate)
df$missingReportedDayOfWeek = wday(df$missingreporteddate,label=TRUE)
df$missingFromHour = hour(df$missingfromdate)
df$missingFromDayOfWeek = wday(df$missingfromdate,label=TRUE)
library(rCharts)
install.packages('rCharts')
library(reshape2)
head(df)
df$childName = paste(df$childfirstname, df$childlastname)
head(df)
help("gvisGeoChart")
df$places
df$location
head(df)
p = gvisGeoChart(df,"missingfromstate",options=list(region="US",
displayMode="regions",
resolution="provinces",
width=600, height=400))
p
plot(p)
df$value = 1
p = gvisGeoChart(df,"missingfromstate",colorvar="value",options=list(region="US",
displayMode="regions",
resolution="provinces",
width=600, height=400))
plot(p)
p = gvisGeoChart(df,"missingfromstate",colorvar="ageGoneMissingReported",options=list(region="US",
displayMode="regions",
resolution="provinces",
width=600, height=400))
plot(p)
p = gvisGeoChart(df,"missingfromstate",colorvar="ageGoneMissingReported",options=list(region="US",
displayMode="regions",
resolution="provinces",
width=600, height=400))
plot(p)
head(df)
